document.body.appendChild(document.createElement("canvas"));var a=[5,5,3,3,2],c=["#1abc9c","#2ecc71","#3498db","#e74c3c","#9b59b6"];function d(b){return{width:18,height:18,x:this.c.width/2-9,y:this.c.height/2-9,g:0,i:0,speed:b||9}}function e(b){return{width:18,height:70,x:"left"===b?150:this.c.width-150,y:this.c.height/2-35,h:0,move:0,speed:10}}var g={w:function(){t=this;t.c=document.querySelector("canvas");t.t=t.c.getContext("2d");t.c.width=1400;t.c.height=1E3;t.c.style.width=t.c.width/2+"px";t.c.style.height=t.c.height/2+"px";t.f=e.call(t,"left");t.b=e.call(t,"right");t.a=d.call(t);t.b.speed=8;t.A=t.j=!1;t.l=t.b;t.B=t.round=0;t.color="#2c3e50";f.D();f.C()},v:function(b){f.t.font="50px Courier New";f.t.fillStyle=this.color;f.t.fillRect(f.c.width/2-350,f.c.height/2-48,700,100);f.t.fillStyle="#ffffff";f.t.fillText(b,f.c.width/2,f.c.height/2+15);setTimeout(function(){f=Object.assign({},g);f.w()},3E3)},D:function(){f.u();t=this;t.t.font="50px Courier New";t.t.fillStyle=t.color;t.t.fillRect(t.c.width/2-350,t.c.height/2-48,700,100);t.t.fillStyle="#ffffff";t.t.fillText("Press any key to begin",t.c.width/2,t.c.height/2+15)},update:function(){t=this;t.j||(0>=t.a.x&&f.o.call(t,t.b,t.f),t.a.x>=t.c.width-t.a.width&&f.o.call(t,t.f,t.b),0>=t.a.y&&(t.a.i=2),t.a.y>=t.c.height-t.a.height&&(t.a.i=1),1===t.f.move?t.f.y-=t.f.speed:2===t.f.move&&(t.f.y+=t.f.speed),f.s.call(t)&&t.l&&(t.a.g=t.l===t.f?3:4,t.a.i=[1,2][Math.round(Math.random())],t.a.y=Math.floor(Math.random()*t.c.height-200)+200,t.l=null),0>=t.f.y?t.f.y=0:t.f.y>=t.c.height-t.f.height&&(t.f.y=t.c.height-t.f.height),1===t.a.i?t.a.y-=t.a.speed/1.5:2===t.a.i&&(t.a.y+=t.a.speed/1.5),3===t.a.g?t.a.x-=t.a.speed:4===t.a.g&&(t.a.x+=t.a.speed),t.b.y>t.a.y-t.b.height/2&&(t.b.y=4===t.a.g?t.b.y-t.b.speed/1.5:t.b.y-t.b.speed/4),t.b.y<t.a.y-t.b.height/2&&(t.b.y=4===t.a.g?t.b.y+t.b.speed/1.5:t.b.y+t.b.speed/4),t.b.y>=t.c.height-t.b.height?t.b.y=t.c.height-t.b.height:0>=t.b.y&&(t.b.y=0),t.a.x-t.a.width<=t.f.x&&t.a.x>=t.f.x-t.f.width&&t.a.y<=t.f.y+t.f.height&&t.a.y+t.a.height>=t.f.y&&(t.a.x=t.f.x+t.a.width,t.a.g=4),t.a.x-t.a.width<=t.b.x&&t.a.x>=t.b.x-t.b.width&&t.a.y<=t.b.y+t.b.height&&t.a.y+t.a.height>=t.b.y&&(t.a.x=t.b.x-t.a.width,t.a.g=3));t.f.h===a[t.round]?a[t.round+1]?(t.color=t.m(),t.f.h=t.b.h=0,t.f.speed+=.5,t.b.speed+=1,t.a.speed+=1,t.round+=1):(t.j=!0,setTimeout(function(){f.v("Winner!")},1E3)):t.b.h===a[t.round]&&(t.j=!0,setTimeout(function(){f.v("Game Over!")},1E3))},u:function(){t=this;t.t.clearRect(0,0,t.c.width,t.c.height);t.t.fillStyle=t.color;t.t.fillRect(0,0,t.c.width,t.c.height);t.t.fillStyle="#ffffff";t.t.fillRect(t.f.x,t.f.y,t.f.width,t.f.height);t.t.fillRect(t.b.x,t.b.y,t.b.width,t.b.height);f.s.call(t)&&t.t.fillRect(t.a.x,t.a.y,t.a.width,t.a.height);t.t.beginPath();t.t.setLineDash([7,15]);t.t.moveTo(t.c.width/2,t.c.height-140);t.t.lineTo(t.c.width/2,140);t.t.lineWidth=10;t.t.strokeStyle="#ffffff";t.t.stroke();t.t.font="100px Courier New";t.t.textAlign="center";t.t.fillText(t.f.h.toString(),t.c.width/2-300,200);t.t.fillText(t.b.h.toString(),t.c.width/2+300,200);t.t.font="30px Courier New";t.t.fillText("Round "+(f.round+1),t.c.width/2,35);t.t.font="40px Courier";t.t.fillText(a[f.round]?a[f.round]:a[f.round-1],t.c.width/2,100)},loop:function(){f.update();f.u();f.j||requestAnimationFrame(f.loop)},C:function(){document.addEventListener("keydown",function(b){!1===f.A&&(f.A=!0,window.requestAnimationFrame(f.loop));if(38===b.keyCode||87===b.keyCode)f.f.move=1;if(40===b.keyCode||83===b.keyCode)f.f.move=2});document.addEventListener("keyup",function(){f.f.move=0})},o:function(b,h){t=this;t.a=d.call(t,t.a.speed);t.l=h;t.B=(new Date).getTime();b.h++},s:function(){return 1E3<=(new Date).getTime()-this.B},m:function(){var b=c[Math.floor(Math.random()*c.length)];return b===this.color?f.m():b}},f=Object.assign({},g);f.w();